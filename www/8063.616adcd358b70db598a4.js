(self.webpackChunkclaimmyride=self.webpackChunkclaimmyride||[]).push([[8063],{8063:function(n,e,o){"use strict";o.r(e),o.d(e,{SignupPageModule:function(){return d}});var t=o(1116),i=o(1462),r=o(578),s=o(8809),u=o(4762),g=o(5803),a=o(303),l=o(9899);function c(n,e){if(1&n&&(g.TgZ(0,"p",23),g._uU(1),g.qZA()),2&n){var o=g.oxw();g.xp6(1),g.Oqu(o.user.error)}}function p(n,e){1&n&&g._UZ(0,"ion-spinner")}var _=[{path:"",component:function(){function n(n,e){this.authService=n,this.iab=e,this.user={email:"",password:"",error:"",city:"Auckland",latitude:-36.866667,longitude:174.766667,loading:!1},this.cities=[]}return n.prototype.ngOnInit=function(){},n.prototype.openPrivacyPolicy=function(){this.iab.create("http://159.223.51.166/privacypolicy.html","_system")},n.prototype.signup=function(){var n=this;return this.user.loading=!0,this.user.error="",this.user.email&&this.user.password?this.user.password!==this.user.confirm_password?(this.user.loading=!1,void(this.user.error="Passwords do not match.")):(this.user.privacy_policy||(this.user.loading=!1,this.user.error="Please accept the ClaimMyRide Privacy Policy"),void this.authService.register(this.user).then(function(){n.user.loading=!1,n.authService.retreiveUserData().then(function(){})}).catch(function(e){if(n.user.loading=!1,e&&e.error&&e.error.error&&e.error.error.message){var o=e.error.error.message;n.user.error=o.indexOf("Duplicate")>-1?"An account already exists with this email. Please login to continue.":o}else n.user.error="There was an error signing up. Please try again."})):(this.user.loading=!1,void(this.user.error="Required fields not filled in. "))},n.prototype.cityChanged=function(){var n,e;try{for(var o=(0,u.XA)(this.cities),t=o.next();!t.done;t=o.next()){var i=t.value;i.city===this.user.city&&(this.user.latitude=i.lat,this.user.longitidue=i.lng)}}catch(r){n={error:r}}finally{try{t&&!t.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}},n.\u0275fac=function(e){return new(e||n)(g.Y36(a.$),g.Y36(l.i))},n.\u0275cmp=g.Xpm({type:n,selectors:[["app-signup"]],decls:51,vars:9,consts:[["color","light"],["slot","start"],["defaultHref","/login","color","primary"],["color","primary"],[1,"signup"],[1,"signup__form"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","personal"],["value","soletrader"],["value","employee"],["value","company"],["value","rentalproperty"],["clearInput","","type","password",3,"ngModel","ngModelChange"],[1,"sign__form__privacy"],[3,"click"],["slot","end",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","shape","round",1,"signup-footer__button",3,"disabled","click"],[4,"ngIf"],[1,"signup__form__error"]],template:function(n,e){1&n&&(g.TgZ(0,"ion-header"),g.TgZ(1,"ion-toolbar",0),g.TgZ(2,"ion-buttons",1),g._UZ(3,"ion-back-button",2),g.qZA(),g.TgZ(4,"ion-title",3),g._uU(5,"Sign up"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(6,"ion-content",4),g.TgZ(7,"ion-list",5),g.TgZ(8,"p"),g._uU(9,"We'll save these details so you only need to do this once"),g.qZA(),g.TgZ(10,"ion-item"),g.TgZ(11,"ion-label",6),g._uU(12,"Email"),g.qZA(),g.TgZ(13,"ion-input",7),g.NdJ("ngModelChange",function(n){return e.user.email=n}),g.qZA(),g.qZA(),g.TgZ(14,"ion-item"),g.TgZ(15,"ion-label",6),g._uU(16,"Full Name"),g.qZA(),g.TgZ(17,"ion-input",8),g.NdJ("ngModelChange",function(n){return e.user.name=n}),g.qZA(),g.qZA(),g.TgZ(18,"ion-item"),g.TgZ(19,"ion-label",6),g._uU(20,"Business Type"),g.qZA(),g.TgZ(21,"ion-select",9),g.NdJ("ngModelChange",function(n){return e.user.user_type=n}),g.TgZ(22,"ion-select-option",10),g._uU(23,"Personal"),g.qZA(),g.TgZ(24,"ion-select-option",11),g._uU(25,"Sole Trader"),g.qZA(),g.TgZ(26,"ion-select-option",12),g._uU(27,"Employee"),g.qZA(),g.TgZ(28,"ion-select-option",13),g._uU(29,"Company"),g.qZA(),g.TgZ(30,"ion-select-option",14),g._uU(31,"Rental Property"),g.qZA(),g.qZA(),g.qZA(),g.TgZ(32,"ion-item"),g.TgZ(33,"ion-label",6),g._uU(34,"Password"),g.qZA(),g.TgZ(35,"ion-input",15),g.NdJ("ngModelChange",function(n){return e.user.password=n}),g.qZA(),g.qZA(),g.TgZ(36,"ion-item"),g.TgZ(37,"ion-label",6),g._uU(38,"Confirm Password"),g.qZA(),g.TgZ(39,"ion-input",15),g.NdJ("ngModelChange",function(n){return e.user.confirm_password=n}),g.qZA(),g.qZA(),g.TgZ(40,"ion-item",16),g.TgZ(41,"ion-label"),g._uU(42,"I accept the ClaimMyRide "),g.TgZ(43,"a",17),g.NdJ("click",function(){return e.openPrivacyPolicy()}),g._uU(44,"Privacy Policy"),g.qZA(),g.qZA(),g.TgZ(45,"ion-checkbox",18),g.NdJ("ngModelChange",function(n){return e.user.privacy_policy=n}),g.qZA(),g.qZA(),g.YNc(46,c,2,1,"p",19),g.qZA(),g.qZA(),g.TgZ(47,"ion-footer",20),g.TgZ(48,"ion-button",21),g.NdJ("click",function(){return e.signup()}),g._uU(49," Get Started "),g.YNc(50,p,1,0,"ion-spinner",22),g.qZA(),g.qZA()),2&n&&(g.xp6(13),g.Q6J("ngModel",e.user.email),g.xp6(4),g.Q6J("ngModel",e.user.name),g.xp6(4),g.Q6J("ngModel",e.user.user_type),g.xp6(14),g.Q6J("ngModel",e.user.password),g.xp6(4),g.Q6J("ngModel",e.user.confirm_password),g.xp6(6),g.Q6J("ngModel",e.user.privacy_policy),g.xp6(1),g.Q6J("ngIf",e.user.error),g.xp6(2),g.Q6J("disabled",e.user.loading||!e.user.privacy_policy),g.xp6(2),g.Q6J("ngIf",e.user.loading))},directives:[s.Gu,s.sr,s.Sm,s.oU,s.cs,s.wd,s.W2,s.q_,s.Ie,s.Q$,s.pK,s.j9,i.JJ,i.On,s.t9,s.QI,s.n0,s.nz,s.w,t.O5,s.fr,s.YG,s.PQ],styles:[".signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:0 15px;margin:10px 0 0;opacity:.6}.signup[_ngcontent-%COMP%]   .signup__form.ios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy.ios[_ngcontent-%COMP%]{padding-top:10px;--inner-padding-bottom:10px}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],d=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=g.oAB({type:n}),n.\u0275inj=g.cJS({imports:[[t.ez,i.u5,s.Pc,r.Bz.forChild(_)]]}),n}()}}]);