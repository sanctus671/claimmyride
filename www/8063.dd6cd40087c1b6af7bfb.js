(self.webpackChunkclaimmyride=self.webpackChunkclaimmyride||[]).push([[8063],{8063:function(n,e,o){"use strict";o.r(e),o.d(e,{SignupPageModule:function(){return d}});var t=o(1116),i=o(1462),r=o(578),g=o(8809),s=o(4762),u=o(5803),p=o(303),c=o(9899);function a(n,e){if(1&n&&(u.TgZ(0,"p",23),u._uU(1),u.qZA()),2&n){var o=u.oxw();u.xp6(1),u.Oqu(o.user.error)}}function l(n,e){1&n&&u._UZ(0,"ion-spinner")}var _=[{path:"",component:function(){function n(n,e){this.authService=n,this.iab=e,this.user={email:"",password:"",error:"",city:"Auckland",latitude:-36.866667,longitude:174.766667,loading:!1},this.cities=[]}return n.prototype.ngOnInit=function(){},n.prototype.openPrivacyPolicy=function(){this.iab.create("http://159.223.51.166/privacypolicy.html","_system")},n.prototype.signup=function(){var n=this;this.user.loading=!0,this.user.error="",this.authService.register(this.user).then(function(){n.user.loading=!1,n.authService.retreiveUserData().then(function(){})}).catch(function(e){if(n.user.loading=!1,e&&e.error)for(var o in e.error.error.errors)n.user.error=n.user.error+e.error.error.errors[o]+" ";else n.user.error=e.message})},n.prototype.cityChanged=function(){var n,e;try{for(var o=(0,s.XA)(this.cities),t=o.next();!t.done;t=o.next()){var i=t.value;i.city===this.user.city&&(this.user.latitude=i.lat,this.user.longitidue=i.lng)}}catch(r){n={error:r}}finally{try{t&&!t.done&&(e=o.return)&&e.call(o)}finally{if(n)throw n.error}}},n.\u0275fac=function(e){return new(e||n)(u.Y36(p.$),u.Y36(c.i))},n.\u0275cmp=u.Xpm({type:n,selectors:[["app-signup"]],decls:51,vars:9,consts:[["color","light"],["slot","start"],["defaultHref","/login","color","primary"],["color","primary"],[1,"signup"],[1,"signup__form"],["position","floating"],["clearInput","","type","email",3,"ngModel","ngModelChange"],["clearInput","","type","text",3,"ngModel","ngModelChange"],[3,"ngModel","ngModelChange"],["value","personal"],["value","soletrader"],["value","employee"],["value","partnership"],["value","company"],["clearInput","","type","password",3,"ngModel","ngModelChange"],[1,"sign__form__privacy"],[3,"click"],["slot","end",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","shape","round",1,"signup-footer__button",3,"disabled","click"],[4,"ngIf"],[1,"signup__form__error"]],template:function(n,e){1&n&&(u.TgZ(0,"ion-header"),u.TgZ(1,"ion-toolbar",0),u.TgZ(2,"ion-buttons",1),u._UZ(3,"ion-back-button",2),u.qZA(),u.TgZ(4,"ion-title",3),u._uU(5,"Sign up"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(6,"ion-content",4),u.TgZ(7,"ion-list",5),u.TgZ(8,"p"),u._uU(9,"We'll save these details so you only need to do this once"),u.qZA(),u.TgZ(10,"ion-item"),u.TgZ(11,"ion-label",6),u._uU(12,"Email"),u.qZA(),u.TgZ(13,"ion-input",7),u.NdJ("ngModelChange",function(n){return e.user.email=n}),u.qZA(),u.qZA(),u.TgZ(14,"ion-item"),u.TgZ(15,"ion-label",6),u._uU(16,"Full Name"),u.qZA(),u.TgZ(17,"ion-input",8),u.NdJ("ngModelChange",function(n){return e.user.name=n}),u.qZA(),u.qZA(),u.TgZ(18,"ion-item"),u.TgZ(19,"ion-label",6),u._uU(20,"Business Type"),u.qZA(),u.TgZ(21,"ion-select",9),u.NdJ("ngModelChange",function(n){return e.user.user_type=n}),u.TgZ(22,"ion-select-option",10),u._uU(23,"Personal"),u.qZA(),u.TgZ(24,"ion-select-option",11),u._uU(25,"Sole Trader"),u.qZA(),u.TgZ(26,"ion-select-option",12),u._uU(27,"Employee"),u.qZA(),u.TgZ(28,"ion-select-option",13),u._uU(29,"Partnership"),u.qZA(),u.TgZ(30,"ion-select-option",14),u._uU(31,"Company"),u.qZA(),u.qZA(),u.qZA(),u.TgZ(32,"ion-item"),u.TgZ(33,"ion-label",6),u._uU(34,"Password"),u.qZA(),u.TgZ(35,"ion-input",15),u.NdJ("ngModelChange",function(n){return e.user.password=n}),u.qZA(),u.qZA(),u.TgZ(36,"ion-item"),u.TgZ(37,"ion-label",6),u._uU(38,"Confirm Password"),u.qZA(),u.TgZ(39,"ion-input",15),u.NdJ("ngModelChange",function(n){return e.user.confirm_password=n}),u.qZA(),u.qZA(),u.TgZ(40,"ion-item",16),u.TgZ(41,"ion-label"),u._uU(42,"I accept the ClaimMyRide "),u.TgZ(43,"a",17),u.NdJ("click",function(){return e.openPrivacyPolicy()}),u._uU(44,"Privacy Policy"),u.qZA(),u.qZA(),u.TgZ(45,"ion-checkbox",18),u.NdJ("ngModelChange",function(n){return e.user.privacy_policy=n}),u.qZA(),u.qZA(),u.YNc(46,a,2,1,"p",19),u.qZA(),u.qZA(),u.TgZ(47,"ion-footer",20),u.TgZ(48,"ion-button",21),u.NdJ("click",function(){return e.signup()}),u._uU(49," Get Started "),u.YNc(50,l,1,0,"ion-spinner",22),u.qZA(),u.qZA()),2&n&&(u.xp6(13),u.Q6J("ngModel",e.user.email),u.xp6(4),u.Q6J("ngModel",e.user.name),u.xp6(4),u.Q6J("ngModel",e.user.user_type),u.xp6(14),u.Q6J("ngModel",e.user.password),u.xp6(4),u.Q6J("ngModel",e.user.confirm_password),u.xp6(6),u.Q6J("ngModel",e.user.privacy_policy),u.xp6(1),u.Q6J("ngIf",e.user.error),u.xp6(2),u.Q6J("disabled",e.user.loading||!e.user.privacy_policy),u.xp6(2),u.Q6J("ngIf",e.user.loading))},directives:[g.Gu,g.sr,g.Sm,g.oU,g.cs,g.wd,g.W2,g.q_,g.Ie,g.Q$,g.pK,g.j9,i.JJ,i.On,g.t9,g.QI,g.n0,g.nz,g.w,t.O5,g.fr,g.YG,g.PQ],styles:[".signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%] > p[_ngcontent-%COMP%]{padding:0 15px;margin:10px 0 0;opacity:.6}.signup[_ngcontent-%COMP%]   .signup__form.ios[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{white-space:nowrap}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .sign__form__privacy.ios[_ngcontent-%COMP%]{padding-top:10px;--inner-padding-bottom:10px}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),n}()}],d=function(){function n(){}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=u.oAB({type:n}),n.\u0275inj=u.cJS({imports:[[t.ez,i.u5,g.Pc,r.Bz.forChild(_)]]}),n}()}}]);