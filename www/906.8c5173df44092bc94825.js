(self.webpackChunkclaimmyride=self.webpackChunkclaimmyride||[]).push([[906],{906:function(e,t,n){"use strict";n.r(t),n.d(t,{UpgradePageModule:function(){return y}});var r=n(1116),o=n(1462),i=n(8809),a=n(578),u=n(4762),c=n(9609),s=n(5803),d=n(9899),p=n(1076),l=n(303);function g(e,t){if(1&e){var n=s.EpF();s.TgZ(0,"div",18),s.TgZ(1,"h3"),s._uU(2,"Subscription & Payment Details"),s.qZA(),s.TgZ(3,"p"),s._uU(4),s.qZA(),s.TgZ(5,"p"),s._uU(6,"Payment will be charged to your credit card through your iTunes account at confirmation of purchase. Subscription renews automatically unless cancelled at least 24 hours prior to the end of the subscription period. There is no increase in price when renewing. Subscriptions can be managed and auto-renewal turned off in Account Settings in iTunes after purchase. Once purchased, refunds will not be provided for any unused portion of the term. Read our full "),s.TgZ(7,"a",19),s.NdJ("click",function(){return s.CHM(n),s.oxw().openLink("http://159.223.51.166/terms.html")}),s._uU(8,"Terms of Service"),s.qZA(),s._uU(9," and our "),s.TgZ(10,"a",20),s.NdJ("click",function(){return s.CHM(n),s.oxw().openLink("http://159.223.51.166/privacypolicy.html")}),s._uU(11,"Privacy Policy"),s.qZA(),s.qZA(),s.qZA()}if(2&e){var r=s.oxw();s.xp6(4),s.AsE("You can purchase Claim My Ride Premium as a monthly or yearly cost. By purchasing Claim My Ride Premium as a monthly subscription you will be charged to renew the subscription every month for ",r.monthlyProduct.price,". By purchasing Claim My Ride Premium as a yearly subscription you will be charged to renew the subscription every year for ",r.yearlyProduct.price,". ")}}function h(e,t){1&e&&s._UZ(0,"ion-spinner")}function m(e,t){1&e&&s._UZ(0,"ion-spinner")}var _=[{path:"",component:function(){function e(e,t,n,r,o,i,a,c){var s=this;this.iab=e,this.platform=t,this.store=n,this.ngZone=r,this.authService=o,this.alertController=i,this.loadingController=a,this.navController=c,this.monthlyProduct={id:"com.claimmyride.app.premiummonthly"},this.yearlyProduct={id:"com.claimmyride.app.premiumyearly"},this.platform.is("ios")&&(this.isIos=!0),t.ready().then(function(){s.registerProducts(),s.setupListeners(),s.store.ready(function(){var e,t,n=s.store.products,r=function(e){e.id===s.monthlyProduct.id?s.ngZone.run(function(){s.monthlyProduct=e}):e.id===s.yearlyProduct.id&&s.ngZone.run(function(){s.yearlyProduct=e})};try{for(var o=(0,u.XA)(n),i=o.next();!i.done;i=o.next())r(i.value)}catch(a){e={error:a}}finally{try{i&&!i.done&&(t=o.return)&&t.call(o)}finally{if(e)throw e.error}}}),s.store.refresh()})}return e.prototype.ngOnInit=function(){},e.prototype.registerProducts=function(){this.store.register({id:this.monthlyProduct.id,type:this.store.PAID_SUBSCRIPTION}),this.store.register({id:this.yearlyProduct.id,type:this.store.PAID_SUBSCRIPTION})},e.prototype.setupListeners=function(){var e=this;this.platform.is("cordova")&&(this.store.when(this.monthlyProduct.id).approved(function(e){return e.verify()}).verified(function(t){t.finish(),e.loadingController.create({message:"Unlocking premium. Please wait...",duration:5e3}).then(function(t){e.loadingObj=t,t.present()}),e.authService.updateUser({premium_enabled:!0,premium_date:c().add(1,"month").format("YYYY-MM-DD")}).then(function(){e.authService.retreiveUserData().then(function(){e.loading=!1,e.loadingObj&&e.loadingObj.dismiss(),e.alertController.create({header:"Success",message:"Your account has been upgraded to premium. Thank you for supporting Claim My Ride!",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(e){e.present()}),e.navController.back()})})}),this.store.when(this.yearlyProduct.id).approved(function(e){return e.verify()}).verified(function(t){t.finish(),e.loadingController.create({message:"Unlocking premium. Please wait...",duration:5e3}).then(function(t){e.loadingObj=t,t.present()}),e.authService.updateUser({premium_enabled:!0,premium_date:c().add(1,"year").format("YYYY-MM-DD")}).then(function(){e.authService.retreiveUserData().then(function(){e.loading=!1,e.loadingObj&&e.loadingObj.dismiss(),e.alertController.create({header:"Success",message:"Your account has been upgraded to premium. Thank you for supporting Claim My Ride!",buttons:[{text:"Dismiss",role:"cancel"}]}).then(function(e){e.present()}),e.navController.back()})})}))},e.prototype.makePayment=function(e){var t=this;"monthly"===e?(this.loading=!0,this.store.order(this.monthlyProduct.id).then(function(){},function(e){t.loading=!1,t.alertController.create({header:"Error",message:"Failed to purchase: "+e+" ",buttons:[{text:"Dismiss",role:"cancel",handler:function(e){}}]}).then(function(e){e.present()})})):"yearly"===e&&(this.loading=!0,this.store.order(this.yearlyProduct.id).then(function(){},function(e){t.loading=!1,t.alertController.create({header:"Error",message:"Failed to purchase: "+e+" ",buttons:[{text:"Dismiss",role:"cancel",handler:function(e){}}]}).then(function(e){e.present()})}))},e.prototype.restorePremium=function(){this.store.refresh()},e.prototype.openLink=function(e){this.iab.create(e,"_system")},e.\u0275fac=function(t){return new(t||e)(s.Y36(d.i),s.Y36(i.t4),s.Y36(p.g),s.Y36(s.R0b),s.Y36(l.$),s.Y36(i.Br),s.Y36(i.HT),s.Y36(i.SH))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-upgrade"]],decls:65,vars:7,consts:[["color","light"],["slot","start"],["defaultHref","/tabs/track","color","primary"],["color","primary"],[1,"upgrade"],[1,"upgrade__header"],[1,"upgrade__upgrade-list"],["name","location","slot","start"],["name","people-outline","slot","start"],["name","car-outline","slot","start"],["name","heart-outline","slot","start"],["name","alert-outline","slot","start"],[1,"upgrade__restore"],["outline","","block","",3,"click"],["class","upgrade__subscription-details",4,"ngIf"],[1,"upgrade__footer"],["color","primary","expand","full","shape","round",1,"upgrade__footer__button",3,"disabled","click"],[4,"ngIf"],[1,"upgrade__subscription-details"],["id","premium-terms-link",3,"click"],["id","premium-privacy-link",3,"click"]],template:function(e,t){1&e&&(s.TgZ(0,"ion-header"),s.TgZ(1,"ion-toolbar",0),s.TgZ(2,"ion-buttons",1),s._UZ(3,"ion-back-button",2),s.qZA(),s.TgZ(4,"ion-title",3),s._uU(5,"Upgrade To Premium"),s.qZA(),s.qZA(),s.qZA(),s.TgZ(6,"ion-content",4),s.TgZ(7,"div",5),s.TgZ(8,"h2"),s._uU(9,"Improve Your Tracking Experience"),s.qZA(),s.TgZ(10,"p"),s._uU(11,"Become A Premium User"),s.qZA(),s.qZA(),s.TgZ(12,"ion-list",6),s.TgZ(13,"ion-list-header"),s._uU(14,"Premium Benefits"),s.qZA(),s.TgZ(15,"ion-item"),s._UZ(16,"ion-icon",7),s.TgZ(17,"ion-label"),s.TgZ(18,"h2"),s._uU(19,"Unlimited Tracking"),s.qZA(),s.TgZ(20,"p"),s._uU(21,"Track as many trips as you need. No restrictions. "),s.qZA(),s.qZA(),s.qZA(),s.TgZ(22,"ion-item"),s._UZ(23,"ion-icon",8),s.TgZ(24,"ion-label"),s.TgZ(25,"h2"),s._uU(26,"Unlimited Drivers"),s.qZA(),s.TgZ(27,"p"),s._uU(28,"Have multiple drivers that use the app? Add as many as you need to seperate your expenses."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(29,"ion-item"),s._UZ(30,"ion-icon",9),s.TgZ(31,"ion-label"),s.TgZ(32,"h2"),s._uU(33,"Unlimited Vehicles"),s.qZA(),s.TgZ(34,"p"),s._uU(35,"Add unlimited vehicles to track your trips against."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(36,"ion-list-header"),s._uU(37,"Support"),s.qZA(),s.TgZ(38,"ion-item"),s._UZ(39,"ion-icon",10),s.TgZ(40,"ion-label"),s.TgZ(41,"h2"),s._uU(42,"Support Us"),s.qZA(),s.TgZ(43,"p"),s._uU(44,"Help us to continue building and providing the best vehicle tracking app in NZ."),s.qZA(),s.qZA(),s.qZA(),s.TgZ(45,"ion-item"),s._UZ(46,"ion-icon",11),s.TgZ(47,"ion-label"),s.TgZ(48,"h2"),s._uU(49,"Priority Support"),s.qZA(),s.TgZ(50,"p"),s._uU(51,"Need help with something? As a premium user, you will get priority support from our team."),s.qZA(),s.qZA(),s.qZA(),s.qZA(),s.TgZ(52,"div",12),s.TgZ(53,"p"),s._uU(54,"Already purchased premium?"),s.qZA(),s.TgZ(55,"ion-button",13),s.NdJ("click",function(){return t.restorePremium()}),s._uU(56,"Restore Premium"),s.qZA(),s.qZA(),s.YNc(57,g,12,2,"div",14),s.qZA(),s.TgZ(58,"ion-footer",15),s.TgZ(59,"ion-button",16),s.NdJ("click",function(){return t.makePayment("monthly")}),s._uU(60),s.YNc(61,h,1,0,"ion-spinner",17),s.qZA(),s.TgZ(62,"ion-button",16),s.NdJ("click",function(){return t.makePayment("yearly")}),s._uU(63),s.YNc(64,m,1,0,"ion-spinner",17),s.qZA(),s.qZA()),2&e&&(s.xp6(57),s.Q6J("ngIf",t.isIos),s.xp6(2),s.Q6J("disabled",t.loading),s.xp6(1),s.hij(" ",t.monthlyProduct.price?"$"+t.monthlyProduct.price+"/month":"Monthly"," "),s.xp6(1),s.Q6J("ngIf",t.loading),s.xp6(1),s.Q6J("disabled",t.loading),s.xp6(1),s.hij(" ",t.yearlyProduct.price?"$"+t.yearlyProduct.price+"/year":"Yearly"," "),s.xp6(1),s.Q6J("ngIf",t.loading))},directives:[i.Gu,i.sr,i.Sm,i.oU,i.cs,i.wd,i.W2,i.q_,i.yh,i.Ie,i.gu,i.Q$,i.YG,r.O5,i.fr,i.PQ],styles:[".upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]{text-align:center;padding:20px 30px 30px;border-bottom:1px solid #dedede}.upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:200px}.upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-bottom:0}.upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{opacity:.6;margin:10px 0 0}.upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]   .upgrade__header__subheader[_ngcontent-%COMP%]{margin-top:25px}.upgrade[_ngcontent-%COMP%]   .upgrade__header[_ngcontent-%COMP%]   .upgrade__header__subheader[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{padding:0 5px;text-decoration:underline}.upgrade[_ngcontent-%COMP%]   .upgrade__restore[_ngcontent-%COMP%]{text-align:center;margin-top:60px;margin-bottom:20px}.upgrade[_ngcontent-%COMP%]   .upgrade__upgrade-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   ion-label[_ngcontent-%COMP%]{white-space:normal}.upgrade[_ngcontent-%COMP%]   .upgrade__subscription-details[_ngcontent-%COMP%]{padding:0 20px;margin-top:40px;margin-bottom:40px}.upgrade[_ngcontent-%COMP%]   .upgrade__subscription-details[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:12px;line-height:16px}.upgrade[_ngcontent-%COMP%]   .upgrade__subscription-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:10px;line-height:14px}.upgrade__footer[_ngcontent-%COMP%]{background-color:#fff;display:flex}.upgrade__footer[_ngcontent-%COMP%]:before{display:none}.upgrade__footer[_ngcontent-%COMP%]   .upgrade__footer__button[_ngcontent-%COMP%]{display:inline-block;flex:1}.upgrade__footer[_ngcontent-%COMP%]   .upgrade__footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),e}()}],f=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[a.Bz.forChild(_)],a.Bz]}),e}(),y=function(){function e(){}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[[r.ez,o.u5,i.Pc,f]]}),e}()}}]);