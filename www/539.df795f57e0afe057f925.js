(self.webpackChunkclaimmyride=self.webpackChunkclaimmyride||[]).push([[539],{539:function(t,e,n){"use strict";n.r(e),n.d(e,{TripPageModule:function(){return T}});var i=n(574),r=n(1116),o=n(2693),a=n(1462),p=n(8809),s=n(578),c=n(4762),d=n(9996),_=n(5803),g=n(2123),l=n(2827);function u(t,e){if(1&t&&_._UZ(0,"map-directions-renderer",12),2&t){var n=e.ngIf,i=_.oxw();_.Q6J("directions",n)("options",i.rendererOptions)}}function f(t,e){if(1&t&&_._UZ(0,"map-polyline",13),2&t){var n=_.oxw();_.Q6J("path",n.vertices)("options",n.verticesOptions)}}function h(t,e){if(1&t&&_._UZ(0,"map-marker",14),2&t){var n=_.oxw();_.Q6J("position",n.startPosition)("options",n.markerAOptions)}}function v(t,e){if(1&t&&_._UZ(0,"map-marker",14),2&t){var n=_.oxw();_.Q6J("position",n.endPosition)("options",n.markerBOptions)}}var m=function(t){return{"trip__categories__category--active":t}};function x(t,e){if(1&t){var n=_.EpF();_.TgZ(0,"div",31),_.NdJ("click",function(){var t=_.CHM(n).$implicit;return _.oxw(2).selectCategory(t)}),_._uU(1),_.qZA()}if(2&t){var i=e.$implicit;_.Q6J("ngClass",_.VKq(2,m,i.active)),_.xp6(1),_.hij(" ",i.name," ")}}function C(t,e){if(1&t){var n=_.EpF();_.TgZ(0,"div",32),_.TgZ(1,"h4"),_._UZ(2,"ion-icon",33),_._uU(3," Driver "),_.qZA(),_.TgZ(4,"p"),_._uU(5),_.qZA(),_.TgZ(6,"a",20),_.NdJ("click",function(){return _.CHM(n),_.oxw(2).editDriver()}),_._uU(7,"Edit"),_.qZA(),_.qZA()}if(2&t){var i=_.oxw(2);_.xp6(5),_.AsE("",i.trip.driver.first_name," ",i.trip.driver.last_name,"")}}function O(t,e){if(1&t&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&t){var n=_.oxw(3);_.xp6(1),_.hij("$",n.trip.trip_tax_rate1,"/km")}}function y(t,e){if(1&t&&(_.TgZ(0,"span"),_._uU(1),_.qZA()),2&t){var n=_.oxw(3);_.xp6(1),_.hij(", $",n.trip.trip_tax_rate2,"/km")}}function P(t,e){if(1&t){var n=_.EpF();_.TgZ(0,"div",34),_.TgZ(1,"h4"),_._UZ(2,"ion-icon",35),_._uU(3," Vehicle "),_.qZA(),_.TgZ(4,"h6"),_._uU(5),_.qZA(),_.TgZ(6,"p",20),_.NdJ("click",function(){return _.CHM(n),_.oxw(2).editTaxRates()}),_._uU(7,"Expense Rate: "),_.YNc(8,O,2,1,"span",11),_.YNc(9,y,2,1,"span",11),_.qZA(),_.TgZ(10,"a",20),_.NdJ("click",function(){return _.CHM(n),_.oxw(2).editVehicle()}),_._uU(11,"Edit"),_.qZA(),_.qZA()}if(2&t){var i=_.oxw(2);_.xp6(5),_.Oqu(i.trip.vehicle.name),_.xp6(3),_.Q6J("ngIf",i.trip.trip_tax_rate1),_.xp6(1),_.Q6J("ngIf",i.trip.trip_tax_rate2)}}function M(t,e){if(1&t){var n=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"div",15),_.TgZ(2,"div",16),_.TgZ(3,"h4"),_._uU(4,"Distance"),_.qZA(),_.TgZ(5,"h1"),_._uU(6),_.ALo(7,"number"),_.qZA(),_.qZA(),_.TgZ(8,"div",17),_.TgZ(9,"h4"),_._uU(10,"Vehicle Expense"),_.qZA(),_.TgZ(11,"h1"),_._uU(12),_.ALo(13,"number"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(14,"div",18),_.TgZ(15,"div",19),_.TgZ(16,"h4"),_._uU(17,"Start Address"),_.qZA(),_.TgZ(18,"p"),_._uU(19),_.qZA(),_.TgZ(20,"a",20),_.NdJ("click",function(){return _.CHM(n),_.oxw().editAddress()}),_._uU(21,"Edit"),_.qZA(),_.qZA(),_.TgZ(22,"div",21),_.TgZ(23,"h4"),_._uU(24,"End Address"),_.qZA(),_.TgZ(25,"p"),_._uU(26),_.qZA(),_.TgZ(27,"a",20),_.NdJ("click",function(){return _.CHM(n),_.oxw().editAddress()}),_._uU(28,"Edit"),_.qZA(),_.qZA(),_.qZA(),_.TgZ(29,"div",22),_.YNc(30,x,2,4,"div",23),_.TgZ(31,"div",24),_.NdJ("click",function(){return _.CHM(n),_.oxw().addCategory()}),_._UZ(32,"ion-icon",25),_._uU(33," Add category "),_.qZA(),_.qZA(),_.YNc(34,C,8,2,"div",26),_.YNc(35,P,12,3,"div",27),_.TgZ(36,"div",28),_.TgZ(37,"h4"),_._UZ(38,"ion-icon",29),_._uU(39," Notes "),_.qZA(),_.TgZ(40,"ion-item"),_.TgZ(41,"ion-textarea",30),_.NdJ("ngModelChange",function(t){return _.CHM(n),_.oxw().trip.notes=t})("ionChange",function(){return _.CHM(n),_.oxw().updateNotes()}),_.qZA(),_.qZA(),_.qZA(),_.qZA()}if(2&t){var i=_.oxw();_.xp6(6),_.AsE("",_.xi3(7,9,i.trip.total_distance,"1.2-2"),"",i.trip.units?i.trip.units:"km",""),_.xp6(6),_.hij("$",_.xi3(13,12,i.trip.reimbursement,"1.0-2"),""),_.xp6(7),_.Oqu(i.trip.start_address?i.trip.start_address:"Latitude: "+i.trip.start_latitude+", Longitude: "+i.trip.start_longitude),_.xp6(7),_.Oqu(i.trip.end_address?i.trip.end_address:"Latitude: "+i.trip.end_latitude+", Longitude: "+i.trip.end_longitude),_.xp6(4),_.Q6J("ngForOf",i.categories),_.xp6(4),_.Q6J("ngIf",i.trip.driver),_.xp6(1),_.Q6J("ngIf",i.trip.vehicle),_.xp6(6),_.Q6J("ngModel",i.trip.notes)}}var b=[{path:"",component:function(){function t(t,e,n,i,r,o,a,p,s){var c=this;this.httpClient=t,this.mapDirectionsService=e,this.activatedRoute=n,this.tripService=i,this.alertCtrl=r,this.driverService=o,this.navCtrl=a,this.ngZone=p,this.appRef=s,this.mapOptions={disableDefaultUI:!0,keyboardShortcuts:!1},this.mapZoom=5,this.mapCenter={lat:-41.0804779,lng:172.8719675},this.rendererOptions={polylineOptions:{strokeColor:"#ff7a00"},markerOptions:{}},this.markerAOptions={draggable:!1,label:{text:"A",color:"#ffffff"}},this.markerBOptions={draggable:!1,label:{text:"B",color:"#ffffff"}},this.vertices=[],this.verticesOptions={strokeColor:"#FF7A00"},this.loading=!0;var d=parseInt(this.activatedRoute.snapshot.params.tripId);this.trip={id:d},this.categories=[],this.getTrip(),this.drivers=[],this.driverService.getDrivers().then(function(t){c.drivers=t})}return t.prototype.ngOnInit=function(){},t.prototype.deleteTrip=function(){var t=this;this.alertCtrl.create({header:"Delete Trip",subHeader:"Are you sure you want to delete this trip?",buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Yes",handler:function(e){t.tripService.deleteTrip(t.trip.id).then(function(){t.tripService.setTripsUpdated(),t.navCtrl.back()})}}]}).then(function(t){t.present()})},t.prototype.addCategory=function(){var t=this;this.alertCtrl.create({header:"Add Category",inputs:[{name:"category_name",placeholder:"Category Name",type:"text"}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Add Category",handler:function(e){if(e&&e.category_name){var n={id:0,name:e.category_name,active:!0};t.categories.push(n),t.tripService.createTripCategory({name:e.category_name,trip_id:t.trip.id}).then(function(t){n.id=t.id})}}}]}).then(function(t){t.present()})},t.prototype.editAddress=function(){var t=this;this.alertCtrl.create({header:"Edit Address",subHeader:"Change the start and end address of your trip. ",message:"Note that changing the address may affect your trip distance.",inputs:[{name:"start_address",placeholder:"Start Address",type:"text",value:this.trip.start_address},{name:"end_address",placeholder:"End Address",type:"text",value:this.trip.end_address}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Update",handler:function(e){if(e&&e.start_address&&e.end_address){var n=new google.maps.DirectionsService,i={origin:e.start_address,destination:e.end_address,travelMode:google.maps.TravelMode.DRIVING};n.route(i,function(e,n){if("OK"===n){var i=e.routes[0].legs[0];return t.trip.start_address=i.start_address,t.trip.end_address=i.end_address,(!t.vertices||t.vertices.length<1)&&(t.trip.start_latitude=i.start_location.lat(),t.trip.start_longitude=i.start_location.lng(),t.trip.end_latitude=i.end_location.lat(),t.trip.end_longitude=i.end_location.lng(),t.trip.total_distance=i.distance.value/1e3),void t.updateTrip()}t.alertCtrl.create({header:"Error",message:"There was an error updating the address for you trip. Please make sure the start and end address you have entered are correct and try again.",buttons:[{text:"Dismiss",role:"cancel",handler:function(t){}}]}).then(function(t){t.present()})})}}}]}).then(function(t){t.present()})},t.prototype.editDriver=function(){var t,e,n=this,i=[];try{for(var r=(0,c.XA)(this.drivers),o=r.next();!o.done;o=r.next()){var a=o.value;i.push({name:"driver",label:a.first_name,type:"radio",value:a.id,checked:a.id===this.trip.driver_id})}}catch(p){t={error:p}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.alertCtrl.create({header:"Change Driver",inputs:i,buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Update",handler:function(t){t&&(n.trip.driver_id=t,n.updateTrip())}}]}).then(function(t){t.present()})},t.prototype.editVehicle=function(){var t,e,n,i,r=this,o=[];try{for(var a=(0,c.XA)(this.drivers),p=a.next();!p.done;p=a.next()){var s=p.value;if(s.id===this.trip.driver_id){o=s.vehicles;break}}}catch(u){t={error:u}}finally{try{p&&!p.done&&(e=a.return)&&e.call(a)}finally{if(t)throw t.error}}var d=[];try{for(var _=(0,c.XA)(o),g=_.next();!g.done;g=_.next()){var l=g.value;d.push({name:"vehicle",label:l.name,type:"radio",value:l.id,checked:l.id===this.trip.vehicle_id})}}catch(f){n={error:f}}finally{try{g&&!g.done&&(i=_.return)&&i.call(_)}finally{if(n)throw n.error}}this.alertCtrl.create({header:"Change Vehicle",inputs:d,buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Update",handler:function(t){t&&(r.trip.vehicle_id=t,r.updateTrip())}}]}).then(function(t){t.present()})},t.prototype.editTaxRates=function(){var t=this;this.alertCtrl.create({header:"Edit Tax Rates",inputs:[{name:"teir1",placeholder:"Teir 1 Tax Rate ($)",type:"number",value:this.trip.trip_tax_rate1},{name:"teir2",placeholder:"Teir 2 Tax Rate ($)",type:"number",value:this.trip.trip_tax_rate2}],buttons:[{text:"Cancel",role:"cancel",handler:function(t){}},{text:"Update",handler:function(e){e&&e.teir1&&e.teir2&&(t.trip.trip_tax_rate1=e.teir1,t.trip.trip_tax_rate2=e.teir2,t.updateTrip())}}]}).then(function(t){t.present()})},t.prototype.updateNotes=function(){this.tripService.updateTrip(this.trip).then(function(){})},t.prototype.selectCategory=function(t){var e,n;if(t.active=!t.active,t.active){this.trip.trip_categories=[];try{for(var i=(0,c.XA)(this.categories),r=i.next();!r.done;r=i.next()){var o=r.value;o.id!==t.id&&(o.active=!1)}}catch(p){e={error:p}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}this.trip.trip_categories.push({trip_id:this.trip.id,category_id:t.id})}else for(var a in this.trip.trip_categories)if(this.trip.trip_categories[a].category_id===t.id){this.trip.trip_categories.splice(a,1);break}this.updateTrip()},t.prototype.updateTrip=function(){var t=this;this.tripService.updateTrip(this.trip).then(function(){t.driverService.setDriversUpdated(),t.getTrip()})},t.prototype.getTrip=function(){var t=this;this.tripService.getTrip(this.trip.id).then(function(e){t.ngZone.run(function(){t.trip=e,console.log(t.trip),t.displayOnMap(),t.tripService.getTripCategories().then(function(e){var n,i,r,o;t.categories=e;try{for(var a=(0,c.XA)(t.categories),p=a.next();!p.done;p=a.next()){var s=p.value;try{for(var d=(r=void 0,(0,c.XA)(t.trip.trip_categories)),_=d.next();!_.done;_=d.next())_.value.category_id===s.id&&(s.active=!0)}catch(g){r={error:g}}finally{try{_&&!_.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}}}catch(l){n={error:l}}finally{try{p&&!p.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}}),t.loading=!1})})},t.prototype.displayOnMap=function(){var t=this;this.ngZone.run(this.trip.vertices?function(){t.vertices=JSON.parse(t.trip.vertices),t.startPosition={lat:t.trip.start_latitude,lng:t.trip.start_longitude},t.endPosition={lat:t.trip.end_latitude,lng:t.trip.end_longitude},t.mapCenter={lat:t.trip.end_latitude,lng:t.trip.end_longitude},t.mapZoom=10,setTimeout(function(){t.appRef.tick()},1e3)}:function(){var e={destination:{lat:t.trip.end_latitude,lng:t.trip.end_longitude},origin:{lat:t.trip.start_latitude,lng:t.trip.start_longitude},travelMode:google.maps.TravelMode.DRIVING};t.directionsResults$=t.mapDirectionsService.route(e).pipe((0,d.U)(function(t){return t.result})),setTimeout(function(){t.appRef.tick()},1e3)})},t.\u0275fac=function(e){return new(e||t)(_.Y36(o.eN),_.Y36(i.Tx),_.Y36(s.gz),_.Y36(g.a),_.Y36(p.Br),_.Y36(l.F),_.Y36(p.SH),_.Y36(_.R0b),_.Y36(_.z2F))},t.\u0275cmp=_.Xpm({type:t,selectors:[["app-trip"]],decls:18,vars:10,consts:[["color","light"],["slot","start"],["defaultHref","/tabs/track","color","primary"],["slot","end"],["color","primary",3,"click"],["name","trash"],[1,"trip"],["height","100%","width","100%",1,"trip__map",3,"options","zoom","center"],[3,"directions","options",4,"ngIf"],[3,"path","options",4,"ngIf"],[3,"position","options",4,"ngIf"],[4,"ngIf"],[3,"directions","options"],[3,"path","options"],[3,"position","options"],[1,"trip__summary"],[1,"trip__summary__distance"],[1,"trip__summary__reimbursement"],[1,"trip__addresses"],[1,"trip__addresses__address","trip__addresses__address--start"],[3,"click"],[1,"trip__addresses__address","trip__addresses__address--end"],[1,"trip__categories"],["class","trip__categories__category",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"trip__categories__category","trip__categories__category--add",3,"click"],["name","add"],["class","trip__driver",4,"ngIf"],["class","trip__vehicle",4,"ngIf"],[1,"trip__notes"],["name","notes"],["debounce","700","placeholder","Write a note...",3,"ngModel","ngModelChange","ionChange"],[1,"trip__categories__category",3,"ngClass","click"],[1,"trip__driver"],["name","driver"],[1,"trip__vehicle"],["name","vehicle"]],template:function(t,e){1&t&&(_.TgZ(0,"ion-header"),_.TgZ(1,"ion-toolbar",0),_.TgZ(2,"ion-buttons",1),_._UZ(3,"ion-back-button",2),_.qZA(),_.TgZ(4,"ion-title"),_._uU(5,"Trip summary"),_.qZA(),_.TgZ(6,"ion-buttons",3),_.TgZ(7,"ion-button",4),_.NdJ("click",function(){return e.deleteTrip()}),_._UZ(8,"ion-icon",5),_.qZA(),_.qZA(),_.qZA(),_.qZA(),_.TgZ(9,"ion-content",6),_.TgZ(10,"div"),_.TgZ(11,"google-map",7),_.YNc(12,u,1,2,"map-directions-renderer",8),_.ALo(13,"async"),_.YNc(14,f,1,2,"map-polyline",9),_.YNc(15,h,1,2,"map-marker",10),_.YNc(16,v,1,2,"map-marker",10),_.qZA(),_.qZA(),_.YNc(17,M,42,15,"div",11),_.qZA()),2&t&&(_.xp6(11),_.Q6J("options",e.mapOptions)("zoom",e.mapZoom)("center",e.mapCenter),_.xp6(1),_.Q6J("ngIf",_.lcZ(13,8,e.directionsResults$)),_.xp6(2),_.Q6J("ngIf",e.vertices&&e.vertices.length>0),_.xp6(1),_.Q6J("ngIf",e.startPosition),_.xp6(1),_.Q6J("ngIf",e.endPosition),_.xp6(1),_.Q6J("ngIf",!e.loading))},directives:[p.Gu,p.sr,p.Sm,p.oU,p.cs,p.wd,p.YG,p.gu,p.W2,i.b6,r.O5,i.jG,i.Ad,i.O_,r.sg,p.Ie,p.g2,p.j9,a.JJ,a.On,r.mk],pipes:[r.Ov,r.JJ],styles:['.trip[_ngcontent-%COMP%]{transform:translateY(-15px)}.trip[_ngcontent-%COMP%]   .trip__map[_ngcontent-%COMP%]{height:300px;width:100vw;position:relative;display:block}.trip[_ngcontent-%COMP%]   .trip__summary[_ngcontent-%COMP%]{border-bottom:1px solid #2323231f;padding-top:15px;padding-bottom:15px}.trip[_ngcontent-%COMP%]   .trip__summary[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;width:50%;text-align:Center}.trip[_ngcontent-%COMP%]   .trip__summary[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:16px;line-height:20px;letter-spacing:-.02em;color:#23232366;margin:0}.trip[_ngcontent-%COMP%]   .trip__summary[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-weight:600;font-size:32px;line-height:40px;text-align:center;letter-spacing:-.02em;color:#232323;margin:0}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]{border-bottom:1px solid #2323231f;padding:15px 20px}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address[_ngcontent-%COMP%]{position:relative;padding-right:80px}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#232323;position:relative}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#232323;opacity:.6}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#ff7a00;padding:4px 8px;background:#ff7a001f;border-radius:5px;text-transform:uppercase;position:absolute;right:0;top:25px}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address.trip__addresses__address--start[_ngcontent-%COMP%]{padding-bottom:30px;margin-bottom:10px}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address.trip__addresses__address--start[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"A";color:#ff7a00;background:#ff7a001f;padding:0 5px;border-radius:3px;margin-right:5px}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address.trip__addresses__address--start[_ngcontent-%COMP%]:after{content:"";position:absolute;border-left:2px dashed #23232333;height:24px;width:2px;left:10px;bottom:0}.trip[_ngcontent-%COMP%]   .trip__addresses[_ngcontent-%COMP%]   .trip__addresses__address.trip__addresses__address--end[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]:before{content:"B";color:#ff7a00;background:#ff7a001f;padding:0 5px;border-radius:3px;margin-right:5px}.trip[_ngcontent-%COMP%]   .trip__categories[_ngcontent-%COMP%]{border-bottom:1px solid #2323231f;white-space:nowrap;padding:15px 20px;overflow-x:scroll}.trip[_ngcontent-%COMP%]   .trip__categories[_ngcontent-%COMP%]   .trip__categories__category[_ngcontent-%COMP%]{font-weight:600;font-size:14px;line-height:17px;letter-spacing:-.02em;background:#f8f8f8;border-radius:100px;color:#232323;padding:12px 10px;display:inline-block;margin-right:10px;min-width:100px;text-align:center}.trip[_ngcontent-%COMP%]   .trip__categories[_ngcontent-%COMP%]   .trip__categories__category.trip__categories__category--active[_ngcontent-%COMP%]{background:#0000;border:2px solid #ff7a00;padding:10px 8px;color:#ff7a00}.trip[_ngcontent-%COMP%]   .trip__categories[_ngcontent-%COMP%]   .trip__categories__category.trip__categories__category--add[_ngcontent-%COMP%]{background:#0000;border:2px dashed #23232399;padding:10px 8px;color:#23232399}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]{border-bottom:1px solid #2323231f;padding:15px 20px;position:relative}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#232323;margin:0 0 5px}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;color:#232323}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:24px;letter-spacing:-.02em}.trip[_ngcontent-%COMP%]   .trip__driver[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;color:#ff7a00;padding:4px 8px;background:#ff7a001f;border-radius:5px;text-transform:uppercase;position:absolute;right:20px;top:35px}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]{border-bottom:1px solid #2323231f;padding:15px 20px;position:relative}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#232323;margin:0 0 5px}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#232323}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:16px;line-height:24px;letter-spacing:-.02em}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#23232366}.trip[_ngcontent-%COMP%]   .trip__vehicle[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#ff7a00;padding:4px 8px;background:#ff7a001f;border-radius:5px;text-transform:uppercase;position:absolute;right:20px;top:35px}.trip[_ngcontent-%COMP%]   .trip__notes[_ngcontent-%COMP%]{padding:15px 20px}.trip[_ngcontent-%COMP%]   .trip__notes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:600;font-size:16px;line-height:24px;letter-spacing:-.02em;color:#232323}.trip[_ngcontent-%COMP%]   .trip__notes[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{vertical-align:middle}.trip[_ngcontent-%COMP%]   .trip__notes[_ngcontent-%COMP%]   ion-item[_ngcontent-%COMP%]{--padding-start:0px;--padding-end:0px}']}),t}()}],Z=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[s.Bz.forChild(b)],s.Bz]}),t}(),T=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=_.oAB({type:t}),t.\u0275inj=_.cJS({imports:[[r.ez,i.Y4,o.JF,o.Ed,a.u5,p.Pc,Z]]}),t}()},2123:function(t,e,n){"use strict";n.d(e,{a:function(){return s}});var i=n(529),r=n(8512),o=n(5803),a=n(2693),p=n(6578),s=function(){function t(t,e){this.http=t,this.storage=e,this.tripsUpdated=new r.X(!1)}return t.prototype.monitorTrips=function(){return this.tripsUpdated.asObservable()},t.prototype.setTripsUpdated=function(){this.tripsUpdated.next(!0)},t.prototype.getAddressFromCoordinates=function(t,e){var n=this;return new Promise(function(i,r){n.http.get("https://maps.googleapis.com/maps/api/geocode/json?latlng="+t+","+e+"&key=AIzaSyCc43JNK-d2_-M77NG0hKzjixSer7RzLLY").subscribe(function(t){i(t)},function(t){r(t)})})},t.prototype.getTripCategories=function(){var t=this;return new Promise(function(e,n){t.storage.get("claimmyride_token").then(function(r){r?t.http.get(i.N.apiUrl+"/tripcategories?token="+r).subscribe(function(t){e(t)},function(t){n(t)}):n()})})},t.prototype.createTripCategory=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.post(i.N.apiUrl+"/tripcategories?token="+o,t).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.updateTripCategory=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.put(i.N.apiUrl+"/tripcategories/"+t.id+"?token="+o,t).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.deleteTripCategory=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.delete(i.N.apiUrl+"/tripcategories/"+t+"?token="+o).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.getTrips=function(){var t=this;return new Promise(function(e,n){t.storage.get("claimmyride_token").then(function(r){r?t.http.get(i.N.apiUrl+"/trips?token="+r).subscribe(function(t){e(t)},function(t){n(t)}):n()})})},t.prototype.generateCSV=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.get(i.N.apiUrl+"/exportcsv?token="+o+"&vehicle_id="+t.vehicle_id+"&start_date="+t.start_date+"&end_date="+t.end_date+"&trip_category_id="+t.trip_category_id).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.generateXeroCSV=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.get(i.N.apiUrl+"/exportxero?token="+o+"&vehicle_id="+t.vehicle_id+"&start_date="+t.start_date+"&end_date="+t.end_date+"&trip_category_id="+t.trip_category_id).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.generatePDF=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.get(i.N.apiUrl+"/exportpdf?token="+o+"&vehicle_id="+t.vehicle_id+"&start_date="+t.start_date+"&end_date="+t.end_date+"&trip_category_id="+t.trip_category_id).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.getTrip=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.get(i.N.apiUrl+"/trips/"+t+"?token="+o).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.createTrip=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.post(i.N.apiUrl+"/trips?token="+o,t).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.updateTrip=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.put(i.N.apiUrl+"/trips/"+t.id+"?token="+o,t).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.prototype.deleteTrip=function(t){var e=this;return new Promise(function(n,r){e.storage.get("claimmyride_token").then(function(o){o?e.http.delete(i.N.apiUrl+"/trips/"+t+"?token="+o).subscribe(function(t){n(t)},function(t){r(t)}):r()})})},t.\u0275fac=function(e){return new(e||t)(o.LFG(a.eN),o.LFG(p.K))},t.\u0275prov=o.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t}()}}]);