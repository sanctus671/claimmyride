(self.webpackChunkclaimmyride=self.webpackChunkclaimmyride||[]).push([[8439],{8439:function(e,n,r){"use strict";r.r(n),r.d(n,{EditDriverPageModule:function(){return p}});var t=r(1116),i=r(1462),o=r(8809),a=r(578),c=r(5803),u=r(2827);function d(e,n){if(1&e&&(c.TgZ(0,"p",15),c._uU(1),c.qZA()),2&e){var r=c.oxw();c.xp6(1),c.Oqu(r.driver.error)}}function s(e,n){1&e&&c._UZ(0,"ion-spinner")}var g=[{path:"",component:function(){function e(e,n,r,t){this.driverService=e,this.navCtrl=n,this.alertCtrl=r,this.activatedRoute=t,this.driver={};var i=parseInt(this.activatedRoute.snapshot.params.driverId);this.driver.id=i,this.getDriver()}return e.prototype.ngOnInit=function(){},e.prototype.getDriver=function(){var e=this;this.driverService.getDriver(this.driver.id).then(function(n){e.driver=n})},e.prototype.update=function(){var e=this;this.driver.loading=!0,this.driverService.updateDriver(this.driver).then(function(){e.driverService.setDriversUpdated(),e.navCtrl.back(),e.driver.loading=!1}).catch(function(){e.driver.loading=!1,e.alertCtrl.create({header:"Error",message:"There was an error while updating your driver. Please try again.",buttons:[{text:"Dismiss",role:"cancel",handler:function(e){}}]}).then(function(e){e.present()})})},e.prototype.deleteDriver=function(){var e=this;this.alertCtrl.create({header:"Delete Driver",subHeader:"Are you sure you want to delete this driver?",buttons:[{text:"Cancel",role:"cancel",handler:function(e){}},{text:"Yes",handler:function(n){e.driver.loading=!0,e.driverService.deleteDriver(e.driver.id).then(function(){e.driverService.setDriversUpdated(),e.driver.loading=!1,e.navCtrl.back()})}}]}).then(function(e){e.present()})},e.\u0275fac=function(n){return new(n||e)(c.Y36(u.F),c.Y36(o.SH),c.Y36(o.Br),c.Y36(a.gz))},e.\u0275cmp=c.Xpm({type:e,selectors:[["app-edit-driver"]],decls:28,vars:6,consts:[["color","light"],["slot","start"],["defaultHref","/tabs/track","color","primary"],["color","primary"],["slot","end"],["color","primary",3,"click"],["name","trash"],[1,"signup"],[1,"signup__form"],["position","floating"],["clearInput","","type","text",3,"ngModel","ngModelChange"],["class","signup__form__error",4,"ngIf"],[1,"signup-footer"],["color","primary","expand","full","shape","round",1,"signup-footer__button",3,"disabled","click"],[4,"ngIf"],[1,"signup__form__error"]],template:function(e,n){1&e&&(c.TgZ(0,"ion-header"),c.TgZ(1,"ion-toolbar",0),c.TgZ(2,"ion-buttons",1),c._UZ(3,"ion-back-button",2),c.qZA(),c.TgZ(4,"ion-title",3),c._uU(5,"Edit Driver"),c.qZA(),c.TgZ(6,"ion-buttons",4),c.TgZ(7,"ion-button",5),c.NdJ("click",function(){return n.deleteDriver()}),c._UZ(8,"ion-icon",6),c.qZA(),c.qZA(),c.qZA(),c.qZA(),c.TgZ(9,"ion-content",7),c.TgZ(10,"ion-list",8),c.TgZ(11,"ion-item"),c.TgZ(12,"ion-label",9),c._uU(13,"First Name"),c.qZA(),c.TgZ(14,"ion-input",10),c.NdJ("ngModelChange",function(e){return n.driver.first_name=e}),c.qZA(),c.qZA(),c.TgZ(15,"ion-item"),c.TgZ(16,"ion-label",9),c._uU(17,"Last Name"),c.qZA(),c.TgZ(18,"ion-input",10),c.NdJ("ngModelChange",function(e){return n.driver.last_name=e}),c.qZA(),c.qZA(),c.TgZ(19,"ion-item"),c.TgZ(20,"ion-label",9),c._uU(21,"Company Name"),c.qZA(),c.TgZ(22,"ion-input",10),c.NdJ("ngModelChange",function(e){return n.driver.company_name=e}),c.qZA(),c.qZA(),c.YNc(23,d,2,1,"p",11),c.qZA(),c.qZA(),c.TgZ(24,"ion-footer",12),c.TgZ(25,"ion-button",13),c.NdJ("click",function(){return n.update()}),c._uU(26," Update Driver "),c.YNc(27,s,1,0,"ion-spinner",14),c.qZA(),c.qZA()),2&e&&(c.xp6(14),c.Q6J("ngModel",n.driver.first_name),c.xp6(4),c.Q6J("ngModel",n.driver.last_name),c.xp6(4),c.Q6J("ngModel",n.driver.company_name),c.xp6(1),c.Q6J("ngIf",n.driver.error),c.xp6(2),c.Q6J("disabled",n.driver.loading),c.xp6(2),c.Q6J("ngIf",n.driver.loading))},directives:[o.Gu,o.sr,o.Sm,o.oU,o.cs,o.wd,o.YG,o.gu,o.W2,o.q_,o.Ie,o.Q$,o.pK,o.j9,i.JJ,i.On,t.O5,o.fr,o.PQ],styles:[".signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__error[_ngcontent-%COMP%]{color:red;font-size:12px;line-height:16px;text-align:Center}.signup[_ngcontent-%COMP%]   .signup__form[_ngcontent-%COMP%]   .signup__form__login[_ngcontent-%COMP%]{margin-top:40px;text-align:Center}.signup-footer[_ngcontent-%COMP%]{background-color:#fff}.signup-footer[_ngcontent-%COMP%]:before{display:none}.signup-footer[_ngcontent-%COMP%]   .signup-footer__button[_ngcontent-%COMP%]   ion-spinner[_ngcontent-%COMP%]{font-size:14px;width:14px;height:14px;margin-left:5px}"]}),e}()}],l=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[a.Bz.forChild(g)],a.Bz]}),e}(),p=function(){function e(){}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({imports:[[t.ez,i.u5,o.Pc,l]]}),e}()}}]);